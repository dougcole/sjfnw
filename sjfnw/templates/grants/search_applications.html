<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="/static/css/base.css">
	<link rel="stylesheet" type="text/css" href="/static/css/reporting.css">
	<title>Reports - Grant Applications</title>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script type="text/javascript">
	function check(name, checked){
		console.log(name + ' ' + checked);
		$('input[name="'+name+'"]').attr('checked', checked);
	}
	</script>
</head>

<body class="reporting">
<a class="back_link" href="/admin/grants">Back to admin site</a>
<div class="help">
	This form is for:
	<ul>
		<li>Grant applications only</li>
		<li>Exporting to spreadsheet</li>
		<li>Complex filtering</li>
		<li>Viewing specific fields</li>
	</ul>
	Use the admin site for:
	<ul>
		<li>Simple filtering/sorting of applications</li>
		<li>Updating screening statuses or changing any other attributes</li>
		<li>Viewing entire applications</li>
		<li>Viewing organization info</li>
	</ul>
</div>
{{form.errors}}
<form class="report" id="report-grantapplication" method="POST">
	<h1>Social Justice Fund Grant Application Database</h1>
	<table>
		<tr class="heading">
			<td>1.</td>
			<td>Filter criteria</td>
		</tr>
		<tr class="sub_heading">
			<td></td>
			<td>Include only applications that match your selections<br>Blank categories will not be used to filter</td>
		</tr>
		<tr>
			<td></td>
			<td>
			<table>
				<tr>
					<td colspan="3">{{form.year_min.errors}}<h4>Year</h4>Between {{form.year_min}} and {{form.year_max}}</td>
					<td rowspan="4">{{form.screening_status.errors}}<h4>{{form.screening_status.label}}</h4>{{form.screening_status}}</td>
				</tr>
				<tr>
					<td><h4>{{form.organization.label}}</h4>{{form.organization}}</td>
					<td><h4>{{form.city.label}}</h4>{{form.city}}</td>
					<td rowspan="2">{{form.state.errors}}<h4>{{form.state.label}}</h4>{{form.state}}</td>
					<td></td>
				</tr>
				<tr>
					<td><h4>{{form.giving_project.label}}</h4>{{form.giving_project}}</td>
					<td><h4>{{form.grant_cycle.label}}</h4>{{form.grant_cycle}}</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td><h4>{{form.poc_bonus.label}}</h4><span title="Checking this will show only applications with POC-led bonus.">{{form.poc_bonus}}</span></td>
					<td><h4>{{form.geo_bonus.label}}</h4><span title="Checking this will show only applications with geographic diversity bonus.">{{form.geo_bonus}}</span></td>
				</tr>
			</table>
			</td>
		</tr>
		<tr class="heading">
			<td>2.</td>
			<td>Reporting</td>
		</tr>
		<tr class="sub_heading">
			<td></td>
			<td>Select the fields you want to include in the report</td>
		</tr>
		<tr>
			<td></td>
			<td><table><tr>
				<td><h4>{{form.report_basics.label}}</h4>{{form.report_basics}}<h4>{{form.report_org.label}}</h4>{{form.report_org}}</td>
				<td><h4>{{form.report_contact.label}}</h4>
				<div class="mult_select">[<a onclick="check('report_contact', true)">all</a>] [<a onclick="check('report_contact', false)">none</a>]</div>
				{{form.report_contact}}</td>
				<td><h4>{{form.report_proposal.label}}</h4>
				<div class="mult_select">[<a onclick="check('report_proposal', true)">all</a>] [<a onclick="check('report_proposal', false)">none</a>]</div>
				{{form.report_proposal}}</td>
			</tr><tr>
				<td><h4>{{form.report_budget.label}}</h4>{{form.report_budget}}</td>
				<td><h4>{{form.report_collab.label}}</h4>{{form.report_collab}}<h4>{{form.report_racial_ref.label}}</h4>{{form.report_racial_ref}}</td>
				<td><h4>{{form.report_bonuses.label}}</h4>{{form.report_bonuses}}<h4>{{form.report_fiscal.label}}</h4>{{form.report_fiscal}}</td>
			</tr></table></td>
		</tr>
		<tr class="heading">
			<td>3.</td>
			<td>Output</td>
		</tr>
		<tr class="sub_heading">
			<td></td>
			<td>Select the format for the report</td>
		</tr>
		<tr>
			<td></td>
			<td>{{form.format}}</td>
		</tr>
	</table>

	<input type="submit" id ="run" value="Run report">
</form>

</body>
</html>